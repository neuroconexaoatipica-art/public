{
  "lote": 4,
  "status": "pending",
  "file_path": "src/app/components/CommunityNarratives.tsx",
  "created_at": "2026-02-27T05:36:27.593Z",
  "file_content": "/**\n * CommunityNarratives â€” Narrativas tematicas por comunidade\n * \n * Cada comunidade tem formatos de post tematico:\n * \"Confissao Intelectual\", \"Carta Aberta\", \"Relato de Fronteira\" etc.\n * O membro escolhe um formato e recebe um prompt que ajuda a escrever.\n * Ao clicar, abre o modal de criacao de post com o prompt pre-preenchido.\n */\n\nimport { motion } from \"motion/react\";\nimport {\n  Feather, ScrollText, BookOpen, Heart, Flame, Lightbulb,\n  Eye, Shield, Sparkles, PenTool\n} from \"lucide-react\";\nimport type { ComponentType } from \"react\";\n\ninterface NarrativeTemplate {\n  id: string;\n  title: string;\n  description: string;\n  prompt: string;\n  icon: ComponentType<{ className?: string; style?: React.CSSProperties }>;\n  color: string;\n}\n\n// Narrativas por categoria de comunidade\nconst NARRATIVES_BY_CATEGORY: Record<string, NarrativeTemplate[]> = {\n  core: [\n    {\n      id: \"confissao_intelectual\",\n      title: \"Confissao Intelectual\",\n      description: \"Algo que voce pensa mas nunca diz em voz alta\",\n      prompt: \"[Confissao Intelectual]\\n\\nEu penso algo que nunca digo em voz alta:\\n\\n\",\n      icon: ScrollText,\n      color: \"#C8102E\",\n    },\n    {\n      id: \"pensamento_proibido\",\n      title: \"Pensamento Proibido\",\n      description: \"Uma ideia que incomoda ate voce mesmo\",\n      prompt: \"[Pensamento Proibido]\\n\\nTem uma ideia que me incomoda ate a mim:\\n\\n\",\n      icon: Eye,\n      color: \"#4B0082\",\n    },\n    {\n      id: \"lucidez_desconfortavel\",\n      title: \"Lucidez Desconfortavel\",\n      description: \"Quando voce enxerga algo que preferiria nao ver\",\n      prompt: \"[Lucidez Desconfortavel]\\n\\nEu enxergo algo que preferiria nao ver:\\n\\n\",\n      icon: Lightbulb,\n      color: \"#FF6B35\",\n    },\n  ],\n  social: [\n    {\n      id: \"carta_aberta\",\n      title: \"Carta Aberta\",\n      description: \"Uma carta para alguem que nunca vai ler\",\n      prompt: \"[Carta Aberta]\\n\\nPara voce, que nunca vai ler isso:\\n\\n\",\n      icon: Feather,\n      color: \"#6B21A8\",\n    },\n    {\n      id: \"relato_de_fronteira\",\n      title: \"Relato de Fronteira\",\n      description: \"O momento em que voce cruzou um limite pessoal\",\n      prompt: \"[Relato de Fronteira]\\n\\nExistiu um momento em que eu cruzei meu proprio limite:\\n\\n\",\n      icon: Shield,\n      color: \"#2E1065\",\n    },\n    {\n      id: \"o_que_nao_se_diz\",\n      title: \"O Que Nao Se Diz\",\n      description: \"O nao-dito que pesa mais que qualquer palavra\",\n      prompt: \"[O Que Nao Se Diz]\\n\\nO que eu nunca digo, mas carrego:\\n\\n\",\n      icon: Heart,\n      color: \"#3B0A0A\",\n    },\n  ],\n  neuro: [\n    {\n      id: \"diario_sensorial\",\n      title: \"Diario Sensorial\",\n      description: \"Como seu corpo sentiu o mundo hoje\",\n      prompt: \"[Diario Sensorial]\\n\\nHoje meu corpo sentiu o mundo assim:\\n\\n\",\n      icon: Flame,\n      color: \"#374151\",\n    },\n    {\n      id: \"mapa_da_sobrecarga\",\n      title: \"Mapa da Sobrecarga\",\n      description: \"O que te sobrecarregou e como voce lidou\",\n      prompt: \"[Mapa da Sobrecarga]\\n\\nO que me sobrecarregou e o que fiz:\\n\\n\",\n      icon: Sparkles,\n      color: \"#0F766E\",\n    },\n  ],\n  build: [\n    {\n      id: \"prototipo_em_voz_alta\",\n      title: \"Prototipo em Voz Alta\",\n      description: \"Uma ideia crua que voce quer testar com o grupo\",\n      prompt: \"[Prototipo em Voz Alta]\\n\\nTenho uma ideia crua e quero testar:\\n\\n\",\n      icon: PenTool,\n      color: \"#059669\",\n    },\n    {\n      id: \"fracasso_util\",\n      title: \"Fracasso Util\",\n      description: \"Algo que deu errado mas ensinou muito\",\n      prompt: \"[Fracasso Util]\\n\\nIsso deu errado, mas aprendi:\\n\\n\",\n      icon: BookOpen,\n      color: \"#B45309\",\n    },\n  ],\n};\n\n// Narrativas universais (aparecem em todas as comunidades)\nconst UNIVERSAL_NARRATIVES: NarrativeTemplate[] = [\n  {\n    id: \"gratidao_atipica\",\n    title: \"Gratidao Atipica\",\n    description: \"Algo pelo qual voce e grato de um jeito que so voce entende\",\n    prompt: \"[Gratidao Atipica]\\n\\nEu sou grato por algo que talvez so eu entenda:\\n\\n\",\n    icon: Heart,\n    color: \"#81D8D0\",\n  },\n];\n\ninterface CommunityNarrativesProps {\n  communityCategory: \"core\" | \"social\" | \"neuro\" | \"build\";\n  communityColor: string;\n  onSelectNarrative: (prompt: string, title: string) => void;\n}\n\nexport function CommunityNarratives({\n  communityCategory,\n  communityColor,\n  onSelectNarrative,\n}: CommunityNarrativesProps) {\n  const categoryNarratives = NARRATIVES_BY_CATEGORY[communityCategory] || NARRATIVES_BY_CATEGORY.core;\n  const allNarratives = [...categoryNarratives, ...UNIVERSAL_NARRATIVES];\n\n  return (\n    <div className=\"space-y-3\">\n      {/* Header */}\n      <div className=\"flex items-center gap-2 mb-4\">\n        <Feather className=\"h-4 w-4\" style={{ color: communityColor }} />\n        <h3 className=\"text-xs text-white uppercase tracking-wider font-bold\">Narrativas</h3>\n        <span className=\"text-[9px] text-white/25 ml-1\">Escolha um formato para escrever</span>\n      </div>\n\n      {/* Grid de narrativas */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\n        {allNarratives.map((narrative, idx) => {\n          const IconComp = narrative.icon;\n          return (\n            <motion.button\n              key={narrative.id}\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.3, delay: idx * 0.05 }}\n              onClick={() => onSelectNarrative(narrative.prompt, narrative.title)}\n              className=\"flex items-start gap-3 p-3 bg-white/3 hover:bg-white/8 border border-white/8 hover:border-white/15 rounded-xl text-left transition-all group\"\n            >\n              <div\n                className=\"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5 transition-transform group-hover:scale-110\"\n                style={{ background: `${narrative.color}15`, border: `1px solid ${narrative.color}25` }}\n              >\n                <IconComp className=\"h-4 w-4\" style={{ color: narrative.color }} />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-xs text-white font-semibold truncate group-hover:text-[#81D8D0] transition-colors\">\n                  {narrative.title}\n                </p>\n                <p className=\"text-[10px] text-white/35 leading-relaxed mt-0.5 line-clamp-2\">\n                  {narrative.description}\n                </p>\n              </div>\n            </motion.button>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\n// Export para uso em outros componentes\nexport { NARRATIVES_BY_CATEGORY, UNIVERSAL_NARRATIVES };\nexport type { NarrativeTemplate };\n"
}