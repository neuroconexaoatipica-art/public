{
  "lote": 4,
  "status": "pending",
  "file_path": "src/app/components/ReactionBar.tsx",
  "created_at": "2026-02-27T05:36:23.382Z",
  "file_content": "import { useState } from \"react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport { useReactions, REACTION_LABELS } from \"../../lib\";\nimport type { ReactionType, ReactionCount } from \"../../lib\";\n\ninterface ReactionBarProps {\n  postId: string;\n  compact?: boolean;\n}\n\nconst REACTION_EMOJIS: Record<ReactionType, string> = {\n  senti_isso: \"üíî\",\n  me_provocou: \"üî•\",\n  gratidao: \"üôè\",\n  intenso: \"‚ö°\",\n  coragem: \"üí™\",\n  lucidez: \"üß†\",\n};\n\nexport function ReactionBar({ postId, compact = false }: ReactionBarProps) {\n  const { reactions, userReaction, totalCount, toggleReaction, isLoading } = useReactions(postId);\n  const [showPicker, setShowPicker] = useState(false);\n\n  const handleReact = async (type: ReactionType) => {\n    await toggleReaction(type);\n    setShowPicker(false);\n  };\n\n  // Rea√ß√µes com contagem > 0\n  const activeReactions = reactions.filter(r => r.count > 0);\n\n  return (\n    <div className=\"relative\">\n      <div className=\"flex items-center gap-2 flex-wrap\">\n        {/* Rea√ß√µes ativas */}\n        {activeReactions.map((r) => (\n          <motion.button\n            key={r.type}\n            onClick={() => handleReact(r.type)}\n            whileHover={{ scale: 1.08 }}\n            whileTap={{ scale: 0.92 }}\n            className={`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs transition-all ${\n              userReaction === r.type\n                ? \"bg-[#81D8D0]/20 border border-[#81D8D0]/40 text-[#81D8D0]\"\n                : \"bg-white/5 border border-white/10 text-white/60 hover:bg-white/8\"\n            }`}\n          >\n            <span className=\"text-sm\">{REACTION_EMOJIS[r.type]}</span>\n            <span style={{ fontWeight: 600 }}>{r.count}</span>\n          </motion.button>\n        ))}\n\n        {/* Bot√£o para abrir picker */}\n        <motion.button\n          onClick={() => setShowPicker(!showPicker)}\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n          className={`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs transition-all ${\n            showPicker\n              ? \"bg-white/10 border border-white/20 text-white/80\"\n              : \"bg-white/3 border border-white/8 text-white/40 hover:text-white/60 hover:bg-white/5\"\n          }`}\n        >\n          <span className=\"text-sm\">+</span>\n          {!compact && totalCount === 0 && <span>Reagir</span>}\n        </motion.button>\n      </div>\n\n      {/* Picker dropdown */}\n      <AnimatePresence>\n        {showPicker && (\n          <motion.div\n            initial={{ opacity: 0, y: 8, scale: 0.95 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: 8, scale: 0.95 }}\n            transition={{ duration: 0.15 }}\n            className=\"absolute bottom-full mb-2 left-0 z-50 bg-[#2A2A2A] border border-white/15 rounded-xl p-2 shadow-xl\"\n          >\n            <div className=\"flex gap-1\">\n              {(Object.keys(REACTION_EMOJIS) as ReactionType[]).map((type) => (\n                <motion.button\n                  key={type}\n                  onClick={() => handleReact(type)}\n                  whileHover={{ scale: 1.2, y: -4 }}\n                  whileTap={{ scale: 0.9 }}\n                  className={`flex flex-col items-center gap-0.5 p-2 rounded-lg transition-colors ${\n                    userReaction === type ? \"bg-[#81D8D0]/15\" : \"hover:bg-white/8\"\n                  }`}\n                  title={REACTION_LABELS[type]}\n                >\n                  <span className=\"text-xl\">{REACTION_EMOJIS[type]}</span>\n                  <span className=\"text-[9px] text-white/40\" style={{ fontWeight: 500 }}>\n                    {REACTION_LABELS[type]}\n                  </span>\n                </motion.button>\n              ))}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n"
}