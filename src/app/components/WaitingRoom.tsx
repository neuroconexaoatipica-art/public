{
  "lote": 2,
  "status": "pending",
  "file_path": "src/app/components/WaitingRoom.tsx",
  "created_at": "2026-02-27T05:36:16.938Z",
  "file_content": "import { useState, useEffect } from \"react\";\nimport { motion } from \"motion/react\";\nimport { Clock, Heart, Shield, LogOut, RefreshCw, Loader2 } from \"lucide-react\";\nimport { supabase } from \"../../lib/supabase\";\nimport { useProfileContext } from \"../../lib/ProfileContext\";\nimport { LogoIcon } from \"./LogoIcon\";\n\n/**\n * WaitingRoom — Tela exibida para users com role 'registered_unfinished'\n * \n * O user fez cadastro + onboarding mas ainda não foi aprovado pela Mila.\n * Esta tela é acolhedora, não punitiva. Reforça que a curadoria é intencional.\n */\n\ninterface WaitingRoomProps {\n  onLogout: () => void;\n}\n\nexport function WaitingRoom({ onLogout }: WaitingRoomProps) {\n  const { user, refreshProfile } = useProfileContext();\n  const [checking, setChecking] = useState(false);\n  const [signupDate, setSignupDate] = useState<string>(\"\");\n\n  useEffect(() => {\n    if (user?.created_at) {\n      const d = new Date(user.created_at);\n      setSignupDate(d.toLocaleDateString(\"pt-BR\", {\n        day: \"2-digit\",\n        month: \"long\",\n        year: \"numeric\",\n      }));\n    }\n  }, [user?.created_at]);\n\n  const handleCheckStatus = async () => {\n    setChecking(true);\n    await refreshProfile();\n    // Se o role mudou, o App.tsx vai redirecionar automaticamente\n    setTimeout(() => setChecking(false), 2000);\n  };\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    onLogout();\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-6\" style={{ background: \"#0A0A0A\" }}>\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.6 }}\n        className=\"max-w-lg w-full text-center\"\n      >\n        {/* Logo */}\n        <LogoIcon size={56} className=\"h-14 w-14 mx-auto mb-6\" />\n\n        {/* Ícone principal */}\n        <motion.div\n          animate={{ scale: [1, 1.05, 1] }}\n          transition={{ duration: 3, repeat: Infinity }}\n          className=\"w-20 h-20 rounded-full bg-[#C8102E]/10 border-2 border-[#C8102E]/20 flex items-center justify-center mx-auto mb-6\"\n        >\n          <Clock className=\"h-10 w-10 text-[#C8102E]\" />\n        </motion.div>\n\n        {/* Título */}\n        <h1 className=\"text-2xl md:text-3xl text-white mb-3\" style={{ fontWeight: 700 }}>\n          Seu pedido de entrada foi recebido\n        </h1>\n\n        {/* Subtítulo acolhedor */}\n        <p className=\"text-base text-white/60 mb-8 max-w-md mx-auto leading-relaxed\">\n          A NeuroConexao Atipica e uma rede com curadoria humana. Cada pedido e analisado pessoalmente pela fundadora. Isso leva um tempinho — mas garante que o espaco seja seguro pra todo mundo.\n        </p>\n\n        {/* Card informativo */}\n        <div className=\"bg-white/5 border border-white/10 rounded-2xl p-5 mb-6 text-left space-y-4\">\n          <div className=\"flex items-start gap-3\">\n            <Shield className=\"h-5 w-5 text-[#81D8D0] flex-shrink-0 mt-0.5\" />\n            <div>\n              <p className=\"text-sm text-white\" style={{ fontWeight: 600 }}>Por que tem fila?</p>\n              <p className=\"text-xs text-white/50 mt-1\">\n                Nao usamos algoritmo pra decidir quem entra. A fundadora analisa cada cadastro pra garantir que o espaco continue sendo um territorio seguro e real.\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-start gap-3\">\n            <Heart className=\"h-5 w-5 text-[#C8102E] flex-shrink-0 mt-0.5\" />\n            <div>\n              <p className=\"text-sm text-white\" style={{ fontWeight: 600 }}>O que acontece depois?</p>\n              <p className=\"text-xs text-white/50 mt-1\">\n                Quando seu acesso for liberado, voce entra direto no Social Hub com acesso a todas as comunidades, lives, rituais e conexoes.\n              </p>\n            </div>\n          </div>\n\n          {user?.name && (\n            <div className=\"pt-3 border-t border-white/10\">\n              <p className=\"text-xs text-white/30\">\n                Cadastro de <span className=\"text-white/60\" style={{ fontWeight: 600 }}>{user.name}</span>\n                {signupDate && <> em {signupDate}</>}\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* Ações */}\n        <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\n          <button\n            onClick={handleCheckStatus}\n            disabled={checking}\n            className=\"inline-flex items-center justify-center gap-2 px-6 py-3 bg-[#C8102E] text-white rounded-xl text-sm transition-all hover:bg-[#A00D24] disabled:opacity-50\"\n            style={{ fontWeight: 600 }}\n          >\n            {checking ? (\n              <><Loader2 className=\"h-4 w-4 animate-spin\" /> Verificando...</>\n            ) : (\n              <><RefreshCw className=\"h-4 w-4\" /> Verificar status</>\n            )}\n          </button>\n\n          <button\n            onClick={handleLogout}\n            className=\"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white/5 text-white/60 border border-white/10 rounded-xl text-sm transition-all hover:bg-white/10 hover:text-white\"\n            style={{ fontWeight: 600 }}\n          >\n            <LogOut className=\"h-4 w-4\" /> Sair\n          </button>\n        </div>\n\n        {/* Nota de rodapé */}\n        <p className=\"text-xs text-white/20 mt-8\">\n          Se tiver duvidas, entre em contato pelo formulario da landing page.\n        </p>\n      </motion.div>\n    </div>\n  );\n}\n"
}