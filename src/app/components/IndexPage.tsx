{
  "lote": 4,
  "status": "pending",
  "file_path": "src/app/components/IndexPage.tsx",
  "created_at": "2026-02-27T05:36:25.544Z",
  "file_content": "import { motion } from \"motion/react\";\nimport { Users, Eye, User, ArrowRight, Lock, LogOut, Clock } from \"lucide-react\";\nimport { LogoIcon } from \"./LogoIcon\";\nimport { useProfileContext, useSeats, supabase } from \"../../lib\";\nimport { UserAvatar } from \"./UserAvatar\";\nimport { useState, useEffect } from \"react\";\n\ninterface IndexPageProps {\n  onNavigateToCommunities: () => void;\n  onNavigateToProfile: () => void;\n  onNavigateToRoadmap: () => void;\n  onNavigateToUserProfile?: (userId: string) => void;\n}\n\nexport function IndexPage({ onNavigateToCommunities, onNavigateToProfile, onNavigateToRoadmap, onNavigateToUserProfile }: IndexPageProps) {\n  const { user } = useProfileContext();\n  const { seatsUsed, seatsTotal, seatsRemaining, isFull } = useSeats();\n  const [founderId, setFounderId] = useState<string | null>(null);\n\n  // Buscar o ID da fundadora ao montar\n  useEffect(() => {\n    const loadFounder = async () => {\n      try {\n        // Buscar criadora: primeiro tenta admin, depois founder\n        const { data, error } = await supabase\n          .from('users')\n          .select('id')\n          .in('role', ['admin', 'founder'])\n          .limit(1)\n          .maybeSingle();\n        \n        if (!error && data) {\n          setFounderId(data.id);\n        }\n      } catch (err) {\n        console.error('Erro ao buscar fundadora:', err);\n      }\n    };\n    loadFounder();\n  }, []);\n\n  const handleCreatorProfileClick = () => {\n    if (founderId && onNavigateToUserProfile) {\n      onNavigateToUserProfile(founderId);\n    } else {\n      onNavigateToProfile();\n    }\n  };\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      {/* Header Simples */}\n      <header className=\"w-full bg-[#35363A] border-b border-white/10 sticky top-0 z-40\">\n        <div className=\"mx-auto max-w-[1000px] px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <LogoIcon size={40} className=\"h-10 w-10\" />\n              <h1 className=\"text-xl font-semibold text-white\">\n                NeuroConexão Atípica\n              </h1>\n            </div>\n\n            {/* User info + Logout */}\n            <div className=\"flex items-center gap-3\">\n              {user && (\n                <div className=\"flex items-center gap-2\">\n                  <UserAvatar\n                    name={user.name}\n                    photoUrl={user.profile_photo}\n                    size=\"md\"\n                  />\n                  <span className=\"text-sm text-white/80 font-medium hidden sm:block\">{user.name}</span>\n                </div>\n              )}\n              <button\n                onClick={handleLogout}\n                className=\"p-2 hover:bg-white/10 rounded-lg transition-colors\"\n                title=\"Sair\"\n              >\n                <LogOut className=\"h-5 w-5 text-white/70\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Conteúdo Principal */}\n      <div className=\"mx-auto max-w-[900px] px-6 py-12 md:py-20\">\n        <motion.div\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.7 }}\n          className=\"space-y-12\"\n        >\n          {/* Bloco Principal */}\n          <div className=\"text-center space-y-6\">\n            <div className=\"inline-flex items-center justify-center w-20 h-20 rounded-full bg-[#FF6B35]/20 border-2 border-[#FF6B35]/40 mb-6\">\n              <Clock className=\"h-10 w-10 text-[#FF6B35]\" />\n            </div>\n\n            <h1 className=\"text-4xl md:text-5xl font-semibold text-white leading-tight\">\n              Seu acesso está<br />sendo avaliado\n            </h1>\n\n            <div className=\"max-w-3xl mx-auto space-y-4\">\n              <p className=\"text-xl md:text-2xl text-white/90 font-normal leading-relaxed\">\n                Você completou o cadastro. Agora a administração vai avaliar seu perfil \n                e liberar o acesso às comunidades.\n              </p>\n            </div>\n          </div>\n\n          {/* Contador de Vagas */}\n          <motion.div\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.7, delay: 0.15 }}\n            className=\"bg-gradient-to-br from-[#81D8D0]/10 to-[#81D8D0]/5 border-2 border-[#81D8D0]/30 rounded-2xl p-8 text-center\"\n          >\n            <h3 className=\"text-lg font-semibold text-[#81D8D0] mb-4 uppercase tracking-wide\">\n              Núcleo Fundador — Beta Fechado\n            </h3>\n            <div className=\"flex items-center justify-center gap-2 mb-4\">\n              <span className=\"text-5xl font-semibold text-white\">{seatsUsed}</span>\n              <span className=\"text-2xl text-white/40\">/</span>\n              <span className=\"text-5xl font-semibold text-white/40\">{seatsTotal}</span>\n            </div>\n            <div className=\"w-full max-w-md mx-auto h-3 bg-white/10 rounded-full overflow-hidden mb-4\">\n              <div\n                className=\"h-full bg-gradient-to-r from-[#81D8D0] to-[#81D8D0]/70 rounded-full transition-all duration-700\"\n                style={{ width: `${Math.min(100, (seatsUsed / seatsTotal) * 100)}%` }}\n              />\n            </div>\n            <p className=\"text-white/60 font-normal\">\n              {isFull\n                ? 'Todas as vagas foram preenchidas. Você está na lista de espera.'\n                : `${seatsRemaining} vaga${seatsRemaining !== 1 ? 's' : ''} restante${seatsRemaining !== 1 ? 's' : ''} no Núcleo Fundador`\n              }\n            </p>\n          </motion.div>\n\n          {/* Bloco de Transparência */}\n          <motion.div\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.7, delay: 0.3 }}\n            className=\"bg-gradient-to-br from-[#35363A] to-black border-2 border-[#81D8D0]/30 rounded-2xl p-8 md:p-10\"\n          >\n            <div className=\"flex items-start gap-4 mb-6\">\n              <div className=\"w-12 h-12 rounded-xl bg-[#81D8D0]/20 flex items-center justify-center flex-shrink-0\">\n                <Eye className=\"h-6 w-6 text-[#81D8D0]\" />\n              </div>\n              <div className=\"flex-1\">\n                <h2 className=\"text-2xl font-semibold text-white mb-4\">\n                  O que é o Beta Fechado\n                </h2>\n                <div className=\"space-y-3 text-lg text-white/80 font-normal leading-relaxed\">\n                  <p>\n                    Estamos selecionando <strong className=\"text-white font-semibold\">{seatsTotal} pessoas</strong> para \n                    construir a base deste espaço.\n                  </p>\n                  <p>\n                    <strong className=\"text-[#FF6B35] font-semibold\">Este espaço será pago no futuro.</strong>\n                  </p>\n                  <p>\n                    Os primeiros membros do Núcleo Fundador terão \n                    <strong className=\"text-[#81D8D0] font-semibold\"> isenção permanente</strong> como \n                    reconhecimento pela construção da base.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Status */}\n            <div className=\"pt-6 border-t border-white/10\">\n              <div className=\"flex items-center gap-3 text-white/70\">\n                <div className=\"w-3 h-3 rounded-full bg-[#FF6B35] animate-pulse\"></div>\n                <span className=\"text-sm font-medium\">Seu status: <strong className=\"text-[#FF6B35]\">Aguardando aprovação</strong></span>\n              </div>\n            </div>\n          </motion.div>\n\n          {/* Botões Permitidos */}\n          <motion.div\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.7, delay: 0.4 }}\n            className=\"grid grid-cols-1 md:grid-cols-3 gap-6\"\n          >\n            {/* Conhecer Comunidades */}\n            <button\n              onClick={onNavigateToCommunities}\n              className=\"group bg-white/5 border-2 border-[#81D8D0]/30 hover:border-[#81D8D0]/60 rounded-2xl p-6 text-left transition-all hover:bg-white/10\"\n            >\n              <Users className=\"h-8 w-8 text-[#81D8D0] mb-4 group-hover:scale-110 transition-transform\" />\n              <h3 className=\"text-xl font-semibold text-white mb-2 group-hover:text-[#81D8D0] transition-colors\">\n                Conhecer os Temas\n              </h3>\n              <p className=\"text-sm text-white/70 font-normal mb-4\">\n                Veja os nomes e descrições das 14 comunidades\n              </p>\n              <div className=\"flex items-center gap-2 text-[#81D8D0] text-sm font-semibold\">\n                <span>Ver comunidades</span>\n                <ArrowRight className=\"h-4 w-4\" />\n              </div>\n            </button>\n\n            {/* Ver o que estamos construindo */}\n            <button\n              onClick={onNavigateToRoadmap}\n              className=\"group bg-white/5 border-2 border-[#FF6B35]/30 hover:border-[#FF6B35]/60 rounded-2xl p-6 text-left transition-all hover:bg-white/10\"\n            >\n              <Eye className=\"h-8 w-8 text-[#FF6B35] mb-4 group-hover:scale-110 transition-transform\" />\n              <h3 className=\"text-xl font-semibold text-white mb-2 group-hover:text-[#FF6B35] transition-colors\">\n                Ver o que estamos construindo\n              </h3>\n              <p className=\"text-sm text-white/70 font-normal mb-4\">\n                Roadmap e visão de futuro\n              </p>\n              <div className=\"flex items-center gap-2 text-[#FF6B35] text-sm font-semibold\">\n                <span>Ver roadmap</span>\n                <ArrowRight className=\"h-4 w-4\" />\n              </div>\n            </button>\n\n            {/* Perfil da Criadora */}\n            <button\n              onClick={handleCreatorProfileClick}\n              className=\"group bg-white/5 border-2 border-[#C8102E]/30 hover:border-[#C8102E]/60 rounded-2xl p-6 text-left transition-all hover:bg-white/10\"\n            >\n              <User className=\"h-8 w-8 text-[#C8102E] mb-4 group-hover:scale-110 transition-transform\" />\n              <h3 className=\"text-xl font-semibold text-white mb-2 group-hover:text-[#C8102E] transition-colors\">\n                Perfil da Criadora\n              </h3>\n              <p className=\"text-sm text-white/70 font-normal mb-4\">\n                Conheça quem fundou este espaço\n              </p>\n              <div className=\"flex items-center gap-2 text-[#C8102E] text-sm font-semibold\">\n                <span>Ver perfil</span>\n                <ArrowRight className=\"h-4 w-4\" />\n              </div>\n            </button>\n          </motion.div>\n\n          {/* Aviso Ético */}\n          <motion.div\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.7, delay: 0.6 }}\n            className=\"bg-[#C8102E]/10 border border-[#C8102E]/30 rounded-2xl p-6\"\n          >\n            <h3 className=\"text-lg font-semibold text-white mb-3 flex items-center gap-2\">\n              Como funciona a aprovação\n            </h3>\n            <div className=\"space-y-2 text-sm text-white/80 font-normal leading-relaxed\">\n              <p>\n                A administração avalia cada cadastro individualmente. Quando aprovado, seu acesso \n                será liberado automaticamente — basta recarregar a página.\n              </p>\n              <p className=\"text-white/50 italic\">\n                Não há prazo fixo. Estamos construindo com cuidado, não com pressa.\n              </p>\n            </div>\n          </motion.div>\n        </motion.div>\n      </div>\n    </div>\n  );\n}"
}